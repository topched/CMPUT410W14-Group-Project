<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
{% load static %}
<html>
  <head><title>MyNode Friends</title>
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript" src="{% static 'js/jquery-1.11.0.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>

  </head>

  <body>
    {% csrf_token %}
    {% include "navbar.html" %}
    </br>
    
      <div class="row">
        <div class="col-md-4 col-md-offset-5">
      <form  action="{% url 'app.views.create_friend'  %}" method="POST">
        {% csrf_token %}
        <input name="receiver_display_name" /> </br>
        <input type="submit" id="post" name="create" value="Send Friend Request" />
      </form>
    </div>
    </div>

    <div class=container>
      <div class="row">
        <div class="col-md-4 col-md-offset-3">
          <h3>Friend Requests</h3>
        </div>
      </div>

      {% for follower_request in followers %}
      <div class="row">
        <div class="col-md-12 col-md-offset-4 ">
          {% if not follower.accepted %}
          {{ follower_request.requester.username }}
			<form action="{% url 'app.views.delete_friend' follower_request.requester.id %}" method="POST">
				{% csrf_token %}
				<input type="submit" name="delete" value="Deny" />
			</form>
			<form action="{% url 'app.views.confirm_friend' follower_request.requester.id %}" method="POST">
				{% csrf_token %}
				<input type="submit" name="update" value="Confirm" />
			</form>
          {% endif %}
        </div>
      </div>
      {% endfor %}

      <div class="row">
        <div class="col-md-4 col-md-offset-3">
          <h3>Following</h3>
        </div>
      </div>

      {% for follow in following %}
      <div class="row">
        <div class="col-md-12 col-md-offset-4 ">
          {{ follow.receiver.username }}
        </div>
      </div>
      {% endfor %}

      <div class="row">
        <div class="col-md-4 col-md-offset-3">
          <h3>Friends</h3>
        </div>
      </div>

      {% for friend in friends%}
      <div class="row">
        <div class="col-md-12 col-md-offset-4 ">

          {{ friend.requester.username }}

          {% endfor %}
        </div>
      </div>
    </div>
  <div class=container>
      <div class="row">
        <div class="col-md-4 col-md-offset-3">
          <h3>Remote Friend Requests</h3>
        </div>
      </div>

      {% for follower_request in remote_follower %}
      <div class="row">
        <div class="col-md-12 col-md-offset-4 ">
          {% if not remote_follower.local_accepted %}
          {{ follower_request.displayname }}
			<form action="{% url 'app.api.delete_remote_friend' follower_request.uuid %}" method="POST">
				{% csrf_token %}
				<input type="submit" name="delete" value="Deny" />
			</form>
			<form action="{% url 'app.api.confirm_remote_friend' follower_request.uuid %}" method="POST">
				{% csrf_token %}
				<input type="submit" name="update" value="Confirm" />
			</form>
          {% endif %}
        </div>
      </div>
      {% endfor %}

      <div class="row">
        <div class="col-md-4 col-md-offset-3">
          <h3>Remote Following</h3>
        </div>
      </div>

      {% for follow in remote_following %}
      <div class="row">
        <div class="col-md-12 col-md-offset-4 ">
          {{ follow.displayname }}
        </div>
      </div>
      {% endfor %}

      <div class="row">
        <div class="col-md-4 col-md-offset-3">
          <h3>Remote Friends</h3>
        </div>
      </div>

      {% for friend in remote_friends%}
      <div class="row">
        <div class="col-md-12 col-md-offset-4 ">

          {{ friend.displayname }}

          {% endfor %}
        </div>
      </div>
    </div>
  </body>
</html>
